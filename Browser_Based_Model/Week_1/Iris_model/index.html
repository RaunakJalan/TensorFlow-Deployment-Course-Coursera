<!doctype html>

<html>
    <head>
        <title>Tensorflow IRIS JS</title>
    </head>
    
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs/dist/tf.min.js"> </script>
    <script lang="js">
        
        async function run(){
            /*Load data from CSV*/
            const csvUrl = 'iris.csv';
            const trainingData = tf.data.csv(csvUrl,{
               columnConfigs: {
                   species: {
                       isLabel: true
                   }
               } 
            });
            /*-------------------------------------*/
            
            /*convert data species to numerical values*/
            trainingData.map(({xs,ys}) => {
                
                const labels = [
                    ys.species == "setosa" ? 1 : 0,
                    ys.species == "virginica" ? 1 : 0,
                    ys.species == "versicolor" ? 1 : 0 ]
                
                return {xs: Object.values(xs), ys:Object.values(labels)};
                
            }).batch(10);
            
        }
        
    </script>
    
    <body>
        
        <h1>Iris Data Page</h1>
        
    </body>
    
    
</html>